<!-- Modules -->

<!-- Introduction To Module Manager -->
	<sect2 id="module-introduction">
  		<title>Introduction To The Module Manager</title>
		<para>
		The "module" is the unit of content in <application>GnomeSword</application>, and Sword generally; a Sword module is a
		resource available for viewing in Sword applications.  There are several varieties: Most importantly, Bible texts, as well
		as dictionaries and lexicons, commentaries, and general books, any of which may include image content (e.g. atlases).
		They are installed either from a local directory structure (typically on removable media, such as a CDROM distribution)
		or remotely via ftp from a repository such as Crosswire, which is the home of Sword, and from which all officially
		Sword-sanctioned modules are available.  Also, many other modules are available from non-Crosswire repositories.
		</para>
		<para>
		If you have other Sword applications installed, they will all share the same set of Sword modules that you install through
		the Module Manager.
		</para>
		<figure>
			<title>The Module Manager Dialog</title>
	        	<screenshot> 
	  <mediaobject> 
	    <imageobject><imagedata
		fileref="figures/module.png" format="PNG" /> 
	    </imageobject>
	    <!-- EPS versions of the figures are not required at the moment. -->
            <!-- 
		    <imageobject>
      		<imagedata fileref="figures/module.eps" format="EPS"/>
    		    </imageobject>
	    -->
	    <textobject> 
	      <phrase>The Module Manager Dialog</phrase> 
	    </textobject> 
	  </mediaobject> 
                        </screenshot>
		</figure>
	</sect2>
	
<!-- Sword Configure-->
	<sect2 id="sword-config">
	<title>Sword Module Configurations</title>
		<sect3 id="sword-sources">
			<title>Sword Sources Settings</title>
			<figure>
				<title>Sword Sources Settings</title>
	        	<screenshot> 
	  <mediaobject> 
	    <imageobject><imagedata
		fileref="figures/sword_sources.png" format="PNG" />
	    </imageobject>
	    <!-- EPS versions of the figures are not required at the moment. -->
            <!-- 
		    <imageobject>
      		<imagedata fileref="figures/sword_sources.eps" format="EPS"/>
    		    </imageobject>
	    -->
	    <textobject> 
	      <phrase>Module Installation</phrase> 
	    </textobject> 
	  </mediaobject> 
                        	</screenshot>

			</figure>
		<para>
		There are other repositories available besides Crosswire's own, though the modules available from other repositories do not
		represent content officially sanctioned by Crosswire.  On the web, see this page for list of those repositories known:
		<ulink type="http" url="http://www.crosswire.org/wiki/index.php/Module_Repositories">http://www.crosswire.org/wiki/index.php/Module_Repositories</ulink>		
		</para>
		</sect3>
		<sect3 id="installation">
			<title>Sword Module Installations</title>
			<figure>
				<title>Sword Module Installations</title>
	        	<screenshot> 
	  <mediaobject> 
	    <imageobject><imagedata
		fileref="figures/sword_config.png" format="PNG" /> 
	    </imageobject>
	    <!-- EPS versions of the figures are not required at the moment. -->
            <!-- 
		    <imageobject>
      		<imagedata fileref="figures/sword_config.eps" format="EPS"/>
    		    </imageobject>
	    -->
	    <textobject> 
	      <phrase>Module Installation</phrase> 
	    </textobject> 
	  </mediaobject> 
                        </screenshot>
			</figure>
			<para>
			After you have selected your Install Source, click the <guimenuitem>Refresh</guimenuitem> button to cause
			<application>GnomeSword</application> to find the module summary available from that source before moving on.
			</para>

			<para>
			Take note of the "Install Destination."  Normal usage of Sword Project tools in Linux/UNIX environments includes
			one's personal area, under ~/.sword, plus a shared system-wide area readable by all users.  If the user does not
			have write access to the system area, that selection will be greyed-out and unavailable.
			</para>

			<para>
			There have been some requests for <application>GnomeSword</application> to provide a means by which an ordinary
			(non-root) user could start the program, gain temporary write access to the system area while installing modules,
			and then revoke that access after installation is complete.  Attempting to devise a scheme to do this has proven
			quite difficult, given the different superuser management schemes employed by various Linux distributions.
			Therefore, at this time there are no ongoing plans to try to solve this problem, and users are advised to enable
			write access to the system area outside <application>GnomeSword</application>.
			</para>
		</sect3>
	</sect2>
	
<!-- Adding And Removing Modules -->
	<sect2 id="module-management">
		<title>Add And Remove Modules</title>
		<sect3 id="add-module">
			<title>Adding and Updating Sword Modules</title>
			<figure>
				<title>Adding Modules</title>
	       		<screenshot> 
	  <mediaobject> 
	    <imageobject><imagedata
		fileref="figures/sword_install.png" format="PNG" /> 
	    </imageobject>
	    <!-- EPS versions of the figures are not required at the moment. -->
            <!-- 
		    <imageobject>
      		<imagedata fileref="figures/image.eps" format="EPS"/>
    		    </imageobject>
	    -->
	    <textobject> 
	      <phrase>Module Installation</phrase> 
	    </textobject> 
	  </mediaobject> 
	
                        </screenshot>
			</figure>
		<para>
		Modules that are already installed will show a checkmark beside them.  If a fast search ("lucene") index is available, an open book will be
		displayed, otherwise an "X" will be shown; creation of the index is available on the Maintenance pane.  Locked modules, which require that you
		purchase an unlock key from the module's copyright holder, will show a lock symbol.  If there are modules installed for which a more recent
		version is available, a refresh icon will appear between the differing old and new version stamps.  There may be an approximate size displayed,
		if the repository management provides this information, otherwise a question mark ("-?-") will be shown.
		</para>
		<para>
		Select new modules to be installed by clicking the checkboxes and then the Install button at the bottom.  Any number of
		modules may be requested for installation at one time.
		</para>
		</sect3>
		<sect3 id="remove-module">
			<title>Module Maintenance</title>
			<figure>
				<title>Module Maintenance</title>
	       		<screenshot> 
	  <mediaobject> 
	    <imageobject><imagedata
		fileref="figures/sword_remove.png" format="PNG" /> 
	    </imageobject>
	    <!-- EPS versions of the figures are not required at the moment. -->
            <!-- 
		    <imageobject>
      		<imagedata fileref="figures/sword_remove.eps" format="EPS"/>
    		    </imageobject>
	    -->
	    <textobject> 
	      <phrase>Module Maintenance</phrase> 
	    </textobject> 
	  </mediaobject> 
                        	</screenshot>
			</figure>
		<para>
		Several maintenance functions are available: Removal, archival, index, and index deletion.
		</para>
		<para>
		Removal disposes of a module entirely.  There is no recovery of the module unless you have previously archived a copy of it.
		</para>
		<para>
		Archival is available for any module, although it is provided with personal commentaries specifically in mind.  A *.zip of
		the module is left in the directory ~/.sword/zip.  Archival prior to removal of personal commentaries is recommended, in
		order to be available for future re-install if the subject matter of the personal commentary becomes important again.
		</para>
		<para>
		Indexing is provided so that the underlying Sword search support can create the index needed for the "lucene" multi-word
		fast-search functions.  If the index is not created, multi-word search will still be available, but it will be much slower.
		With the index in place, searches through an entire Bible can take just a few seconds.
		</para>
		<para>
		Indexes may be deleted as well.
		</para>
		</sect3>
	</sect2>

<!-- Installing Non-Standard Modules -->
	<sect2 id="non-standard-modules">
		<title>Installing Non-Standard Modules</title>
		<para>
		Some resource modules in Sword Project format are available from sources other than Crosswire and not from a module manager-ready repository.
		Necessarily, installing such a module is a manual task.
		</para>
		<para>
		Modules are normally packaged as *.zip files; they contain a configuration file plus a number of data files.  Installation
		of such a module is done by cd'ing to your personal Sword (not <application>GnomeSword</application>) configuration
		directory, ~/.sword, and unzipping the file there.  The configuration file will be left in "mods.d", and the module's data
		files will go into a subdirectory of "modules".  Alternatively, if you have write access to the system Sword directory,
		typically /usr/share/sword, you may cd there instead before unzipping.
		</para>
		<para>
		Restart <application>GnomeSword</application> after installing such a module, so that a fresh instance of the program can
		notice the new module in place.
		</para>
	</sect2>
